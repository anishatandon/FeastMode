{"ast":null,"code":"import _defineProperty from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/summer19/Desktop/react-express-starter/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/summer19/Desktop/react-express-starter/src/SMSForm.js\";\nimport React, { Component } from 'react';\nimport './SMSForm.css';\n\nvar SMSForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SMSForm, _Component);\n\n  function SMSForm(props) {\n    var _this;\n\n    _classCallCheck(this, SMSForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SMSForm).call(this, props));\n    _this.greeting = \"Hey, there!\"; // username\n\n    _this.closing = \" has invited you to join their group order. \\rClick here to open FeastMode and join the feast:\"; // url to join order (this is difficult)\n\n    _this.state = {\n      message: {\n        to: '',\n        body: _this.greeting + _this.closing\n      },\n      submitting: false,\n      error: false,\n      username: '',\n      // get username from firebase somehow\n      url: '' // unique url that links back to FeastMode app (and the order specifically)\n\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onHandleChange = _this.onHandleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SMSForm, [{\n    key: \"onSubmit\",\n    value: function onSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState({\n        submitting: true\n      });\n      fetch('/api/messages', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.message)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {\n          _this2.setState({\n            // reset what we have before\n            error: false,\n            submitting: false,\n            message: {\n              to: '',\n              body: ''\n            }\n          });\n        } else {\n          // can't submit\n          _this2.setState({\n            error: true,\n            submitting: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onHandleChange\",\n    value: function onHandleChange(event) {\n      var name = event.target.getAttribute('name');\n      this.setState({\n        message: _objectSpread({}, this.state.message, _defineProperty({}, name, event.target.value))\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: this.state.error ? 'error sms-form' : 'sms-form',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"to\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"To:\"), React.createElement(\"input\", {\n        type: \"tel\",\n        name: \"to\",\n        id: \"to\",\n        value: this.state.message.to,\n        onChange: this.onHandleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Body:\"), React.createElement(\"textarea\", {\n        name: \"body\",\n        id: \"body\",\n        value: this.state.message.body,\n        onChange: this.onHandleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: this.state.submitting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Send message\"));\n    }\n  }]);\n\n  return SMSForm;\n}(Component);\n\nexport default SMSForm;","map":{"version":3,"sources":["/Users/summer19/Desktop/react-express-starter/src/SMSForm.js"],"names":["React","Component","SMSForm","props","greeting","closing","state","message","to","body","submitting","error","username","url","onSubmit","bind","onHandleChange","event","preventDefault","setState","fetch","method","headers","JSON","stringify","then","res","json","data","success","name","target","getAttribute","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './SMSForm.css';\n\nclass SMSForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.greeting = \"Hey, there!\"\n    // username\n    this.closing = \" has invited you to join their group order. \\rClick here to open FeastMode and join the feast:\"\n    // url to join order (this is difficult)\n\n    this.state = {\n      message: {\n        to: '',\n        body: this.greeting + this.closing\n      },\n      submitting: false,\n      error: false,\n      username: '', // get username from firebase somehow\n      url: '' // unique url that links back to FeastMode app (and the order specifically)\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onHandleChange = this.onHandleChange.bind(this);\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    fetch('/api/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.message)\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          this.setState({ // reset what we have before\n            error: false,\n            submitting: false,\n            message: {\n              to: '',\n              body: ''\n            }\n          });\n        } else { // can't submit\n          this.setState({\n            error: true,\n            submitting: false\n          });\n        }\n      });\n  }\n\n  onHandleChange(event) {\n    const name = event.target.getAttribute('name');\n    this.setState({\n      message: { ...this.state.message, [name]: event.target.value }\n    });\n  }\n\n  render() {\n    return (\n      <form\n        onSubmit={this.onSubmit}\n        className={this.state.error ? 'error sms-form' : 'sms-form'}\n      >\n        <div>\n          <label htmlFor=\"to\">To:</label>\n          <input\n            type=\"tel\"\n            name=\"to\"\n            id=\"to\"\n            value={this.state.message.to}\n            onChange={this.onHandleChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"body\">Body:</label>\n          <textarea\n            name=\"body\"\n            id=\"body\"\n            value={this.state.message.body}\n            onChange={this.onHandleChange}\n          />\n        </div>\n        <button type=\"submit\" disabled={this.state.submitting}>\n          Send message\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default SMSForm;"]},"metadata":{},"sourceType":"module"}