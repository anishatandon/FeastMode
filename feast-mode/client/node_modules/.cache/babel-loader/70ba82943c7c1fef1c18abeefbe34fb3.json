{"ast":null,"code":"var _jsxFileName = \"/Users/cssummer19/Documents/FeastMode/feast-mode/src/components/SignIn/index.js\";\nimport React, { Component } from 'react';\nimport firebase, { auth, provider } from '../Firebase/firebase.js';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\nimport HomePage from '../Home';\n\nclass SignIn extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentItem: '',\n      username: '',\n      items: [],\n      user: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Sign In\"))), this.state.user ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: ROUTES.HOME,\n      component: HomePage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Logout\")) : React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Please sign in.\"), React.createElement(\"button\", {\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Log In\"))));\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const itemsRef = firebase.database().ref('items');\n    const item = {\n      title: this.state.currentItem,\n      user: this.state.user.displayName || this.state.user.email\n    };\n    itemsRef.push(item);\n    this.setState({\n      currentItem: '',\n      username: ''\n    });\n    itemsRef.on('value', snapshot => {\n      console.log(snapshot.val());\n    });\n  }\n\n  componentDidMount() {\n    const itemsRef = firebase.database().ref('items');\n    itemsRef.on('value', snapshot => {\n      let items = snapshot.val();\n      let newState = [];\n\n      for (let item in items) {\n        newState.push({\n          id: item,\n          title: items[item].title,\n          user: items[item].user\n        });\n      }\n\n      this.setState({\n        items: newState\n      });\n    });\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n      }\n    });\n  }\n\n  removeItem(itemId) {\n    const itemRef = firebase.database().ref(\"/items/\".concat(itemId));\n    itemRef.remove();\n  }\n\n  logout() {\n    auth.signOut().then(() => {\n      this.setState({\n        user: null\n      });\n    });\n  }\n\n  login() {\n    auth.signInWithPopup(provider).then(result => {\n      const user = result.user;\n      this.setState({\n        user\n      });\n    });\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/Users/cssummer19/Documents/FeastMode/feast-mode/src/components/SignIn/index.js"],"names":["React","Component","firebase","auth","provider","BrowserRouter","Router","Route","ROUTES","HomePage","SignIn","constructor","state","currentItem","username","items","user","handleChange","bind","handleSubmit","login","logout","render","HOME","e","setState","target","name","value","preventDefault","itemsRef","database","ref","item","title","displayName","email","push","on","snapshot","console","log","val","componentDidMount","newState","id","onAuthStateChanged","removeItem","itemId","itemRef","remove","signOut","then","signInWithPopup","result"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport firebase, { auth, provider } from '../Firebase/firebase.js';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom';\nimport * as ROUTES from '../../constants/routes';\n\nimport HomePage from '../Home';\n\n\nclass SignIn extends Component {\n\n  constructor(){\n    super();\n    this.state = {\n      currentItem: '',\n      username: '',\n      items: [],\n      user: null\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n\n\n  render() {\n    return (\n      <div>\n\n        <div className='app'>\n          <header>\n           <div className=\"wrapper\">\n             <h1>Sign In</h1>\n            </div>\n          </header>\n\n          {this.state.user ?\n             <div>\n               <Router>\n                   <Route path={ROUTES.HOME} component={HomePage} />\n               </Router>\n               <button onClick={this.logout}>Logout</button>\n               </div>\n             :\n             <div className='wrapper'>\n               <p>Please sign in.</p>\n               <button onClick={this.login}>Log In</button>\n             </div>\n          }\n\n\n        </div>\n\n      </div>\n\n\n\n\n    );\n  }\n\n\n\n\n  handleChange(e) {\n    this.setState( {\n      [e.target.name] : e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const itemsRef = firebase.database().ref('items');\n    const item = {\n      title: this.state.currentItem,\n      user: this.state.user.displayName || this.state.user.email\n    }\n    itemsRef.push(item);\n    this.setState({\n      currentItem: '',\n      username: ''\n    });\n\n    itemsRef.on('value', (snapshot) => {\n      console.log(snapshot.val());\n    });\n  }\n\n\n  componentDidMount() {\n    const itemsRef = firebase.database().ref('items');\n    itemsRef.on('value', (snapshot) => {\n      let items = snapshot.val();\n      let newState = [];\n      for(let item in items) {\n        newState.push({\n          id: item,\n          title: items[item].title,\n          user: items[item].user\n        });\n      }\n      this.setState({\n        items: newState\n      });\n    });\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({user});\n      }\n    });\n  }\n\n  removeItem(itemId) {\n    const itemRef = firebase.database().ref(`/items/${itemId}`);\n    itemRef.remove();\n  }\n\n\n\n  logout(){\n    auth.signOut()\n      .then(() => {\n        this.setState({\n          user: null\n        });\n      });\n  }\n\n  login() {\n    auth.signInWithPopup(provider)\n      .then((result) => {\n        const user = result.user;\n        this.setState({\n          user\n\n        });\n      });\n  }\n\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}