{"ast":null,"code":"var _jsxFileName = \"/Users/cssummer19/Documents/FeastMode/feast-mode/src/components/Auth/SignUp/ImageUpload.js\";\nimport React, { Component } from \"react\";\nimport firebase from \"firebase\";\nimport FileUploader from \"react-firebase-file-uploader\";\n\nclass ImageUpload extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      avatar: \"\",\n      isUploading: false,\n      progress: 0,\n      avatarURL: \"\"\n    };\n\n    this.handleProgress = snapshot => {\n      const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n      this.setState({\n        progress\n      });\n    };\n\n    this.handleUploadSuccess = filename => {\n      this.setState({\n        avatar: filename,\n        progress: 100,\n        isUploading: false\n      });\n      firebase.storage().ref(\"images\").child(filename).getDownloadURL().then(url => this.setState({\n        avatarURL: url\n      }));\n      console.log(\"hey\");\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Avatar:\"), React.createElement(\"progress\", {\n      value: this.state.progress,\n      max: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }), this.state.isUploading && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"Progress: \", this.state.progress), this.state.avatarURL && React.createElement(\"img\", {\n      src: this.state.avatarURL,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(FileUploader, {\n      accept: \"image/*\",\n      name: \"avatar\",\n      randomizeFilename: true,\n      storageRef: firebase.storage().ref(\"images\"),\n      onUploadStart: this.handleUploadStart,\n      onUploadError: this.handleUploadError,\n      onUploadSuccess: this.handleUploadSuccess,\n      onProgress: this.handleProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default ImageUpload;","map":{"version":3,"sources":["/Users/cssummer19/Documents/FeastMode/feast-mode/src/components/Auth/SignUp/ImageUpload.js"],"names":["React","Component","firebase","FileUploader","ImageUpload","state","avatar","isUploading","progress","avatarURL","handleProgress","snapshot","Math","round","bytesTransferred","totalBytes","setState","handleUploadSuccess","filename","storage","ref","child","getDownloadURL","then","url","console","log","render","handleUploadStart","handleUploadError"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;;AAEA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCI,KADgC,GACxB;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,WAAW,EAAE,KAFT;AAGJC,MAAAA,QAAQ,EAAE,CAHN;AAIJC,MAAAA,SAAS,EAAE;AAJP,KADwB;;AAAA,SAQhCC,cARgC,GAQdC,QAAD,IAAc;AAC3B,YAAMH,QAAQ,GAAGI,IAAI,CAACC,KAAL,CAAYF,QAAQ,CAACG,gBAAT,GAA4BH,QAAQ,CAACI,UAAtC,GAAoD,GAA/D,CAAjB;AACA,WAAKC,QAAL,CAAc;AAAER,QAAAA;AAAF,OAAd;AACH,KAX+B;;AAAA,SAahCS,mBAbgC,GAaVC,QAAQ,IAAI;AAC9B,WAAKF,QAAL,CAAc;AAAEV,QAAAA,MAAM,EAAEY,QAAV;AAAoBV,QAAAA,QAAQ,EAAE,GAA9B;AAAmCD,QAAAA,WAAW,EAAE;AAAhD,OAAd;AACAL,MAAAA,QAAQ,CACHiB,OADL,GAEKC,GAFL,CAES,QAFT,EAGKC,KAHL,CAGWH,QAHX,EAIKI,cAJL,GAKKC,IALL,CAKUC,GAAG,IAAI,KAAKR,QAAL,CAAc;AAAEP,QAAAA,SAAS,EAAEe;AAAb,OAAd,CALjB;AAMIC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACP,KAtB+B;AAAA;;AAwBhCC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAU,MAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWG,QAA5B;AAAsC,MAAA,GAAG,EAAC,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGK,KAAKH,KAAL,CAAWE,WAAX,IAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAc,KAAKF,KAAL,CAAWG,QAAzB,CAH/B,EAIK,KAAKH,KAAL,CAAWI,SAAX,IAAwB;AAAK,MAAA,GAAG,EAAE,KAAKJ,KAAL,CAAWI,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJ7B,EAKI,oBAAC,YAAD;AACI,MAAA,MAAM,EAAC,SADX;AAEI,MAAA,IAAI,EAAC,QAFT;AAGI,MAAA,iBAAiB,MAHrB;AAII,MAAA,UAAU,EAAEP,QAAQ,CAACiB,OAAT,GAAmBC,GAAnB,CAAuB,QAAvB,CAJhB;AAKI,MAAA,aAAa,EAAE,KAAKQ,iBALxB;AAMI,MAAA,aAAa,EAAE,KAAKC,iBANxB;AAOI,MAAA,eAAe,EAAE,KAAKZ,mBAP1B;AAQI,MAAA,UAAU,EAAE,KAAKP,cARrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CADJ,CADJ;AAoBH;;AA7C+B;;AAgDpC,eAAeN,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport firebase from \"firebase\";\nimport FileUploader from \"react-firebase-file-uploader\";\n\nclass ImageUpload extends Component {\n    state = {\n        avatar: \"\",\n        isUploading: false,\n        progress: 0,\n        avatarURL: \"\"\n    };\n\n    handleProgress = (snapshot) => {\n        const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n        this.setState({ progress });\n    }\n\n    handleUploadSuccess = filename => {\n        this.setState({ avatar: filename, progress: 100, isUploading: false });\n        firebase\n            .storage()\n            .ref(\"images\")\n            .child(filename)\n            .getDownloadURL()\n            .then(url => this.setState({ avatarURL: url }));\n            console.log(\"hey\")\n    };\n\n    render() {\n        return (\n            <div>\n                <form>\n                    <label>Avatar:</label>\n                    <progress value={this.state.progress} max=\"100\"/>\n                    {this.state.isUploading && <p>Progress: {this.state.progress}</p>}\n                    {this.state.avatarURL && <img src={this.state.avatarURL} />}\n                    <FileUploader\n                        accept=\"image/*\"\n                        name=\"avatar\"\n                        randomizeFilename\n                        storageRef={firebase.storage().ref(\"images\")}\n                        onUploadStart={this.handleUploadStart}\n                        onUploadError={this.handleUploadError}\n                        onUploadSuccess={this.handleUploadSuccess}\n                        onProgress={this.handleProgress}\n                    />\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}