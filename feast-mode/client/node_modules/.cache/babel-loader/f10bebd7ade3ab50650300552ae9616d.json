{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/cssummer19/Documents/FeastMode/feast-mode/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/cssummer19/Documents/FeastMode/feast-mode/client/src/components/Auth/Profile/ProfileEdit/ImageUpload.js\";\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  opacity: 0.5;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n    border-radius: 50%; \\n    align-items: center;\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n    width: 25rem;\\n    height: 25rem;\\n    object-fit: cover;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    margin-bottom: 1rem;\\n    width: 80%;\\n    display: flex;\\n\\n    :hover {\\n        background-color: rgba(0, 0, 0, .3);\\n    }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport FileUploader from \"react-firebase-file-uploader\";\nimport * as actions from '../../../../backend/store/actions';\nimport { storage } from 'firebase';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronCircleLeft, faChevronCircleRight } from '@fortawesome/free-solid-svg-icons';\nconst ImageForm = styled.form(_templateObject());\nconst StyledImage = styled.img(_templateObject2());\nconst ButtonWrapper = styled.div(_templateObject3());\n\nconst ImageUpload = ({\n  updateImageUrl,\n  profile\n}) => {\n  if (!profile.isLoaded) return null;\n  let state = {\n    avatar: \"\",\n    avatarURL: profile.image[0],\n    oldAvatar: profile.image[1]\n  };\n\n  const handleUploadSuccess = filename => {\n    state.avatar = filename;\n    storage().ref(\"images/\").child(filename).getDownloadURL().then(url => {\n      state.avatarURL = url;\n      updateImageUrl(state);\n    });\n  };\n\n  return React.createElement(ImageForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, state.avatarURL && React.createElement(StyledImage, {\n    src: state.avatarURL,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: () => this.prevSlide(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \" \", React.createElement(FontAwesomeIcon, {\n    icon: faChevronCircleLeft,\n    size: \"5x\",\n    color: \"#2C3E50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), \" \"), React.createElement(FileUploader, {\n    accept: \"image/*\",\n    name: \"avatar\",\n    randomizeFilename: true,\n    storageRef: storage().ref(\"images\"),\n    onUploadSuccess: handleUploadSuccess,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(ButtonWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: () => this.prevSlide(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \" \", React.createElement(FontAwesomeIcon, {\n    icon: faChevronCircleLeft,\n    size: \"5x\",\n    color: \"#2C3E50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), \" \"), React.createElement(\"div\", {\n    onClick: () => this.nextSlide(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \" \", React.createElement(FontAwesomeIcon, {\n    icon: faChevronCircleRight,\n    size: \"5x\",\n    color: \"#2C3E50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), \" \")));\n};\n\nconst mapStateToProps = ({\n  firebase\n}) => ({\n  profile: firebase.profile\n});\n\nconst mapDispatchToProps = {\n  updateImageUrl: actions.updateImageUrl\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageUpload);","map":{"version":3,"sources":["/Users/cssummer19/Documents/FeastMode/feast-mode/client/src/components/Auth/Profile/ProfileEdit/ImageUpload.js"],"names":["React","connect","FileUploader","actions","storage","styled","FontAwesomeIcon","faChevronCircleLeft","faChevronCircleRight","ImageForm","form","StyledImage","img","ButtonWrapper","div","ImageUpload","updateImageUrl","profile","isLoaded","state","avatar","avatarURL","image","oldAvatar","handleUploadSuccess","filename","ref","child","getDownloadURL","then","url","prevSlide","nextSlide","mapStateToProps","firebase","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport FileUploader from \"react-firebase-file-uploader\"\nimport * as actions from '../../../../backend/store/actions'\nimport { storage } from 'firebase'\nimport styled from 'styled-components'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faChevronCircleLeft, faChevronCircleRight } from '@fortawesome/free-solid-svg-icons'\n\nconst ImageForm = styled.form`\n    margin-bottom: 1rem;\n    width: 80%;\n    display: flex;\n\n    :hover {\n        background-color: rgba(0, 0, 0, .3);\n    }\n`\nconst StyledImage = styled.img`\n    border-radius: 50%; \n    align-items: center;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    width: 25rem;\n    height: 25rem;\n    object-fit: cover;\n`\nconst ButtonWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  opacity: 0.5;\n`\n\nconst ImageUpload = ({ updateImageUrl, profile }) => {\n    if (!profile.isLoaded) return null\n\n    let state = {\n        avatar: \"\",\n        avatarURL: profile.image[0],\n        oldAvatar: profile.image[1]\n    }\n\n    const handleUploadSuccess = filename => {\n        state.avatar = filename\n        storage()\n            .ref(\"images/\")\n            .child(filename)\n            .getDownloadURL()\n            .then(url => {\n                state.avatarURL = url\n                updateImageUrl(state)\n            }\n        )\n    }\n\n    return (\n        <ImageForm>\n            {state.avatarURL && <StyledImage src = {state.avatarURL}/>}\n            <label>\n                <div onClick = {() => this.prevSlide()}> <FontAwesomeIcon icon = {faChevronCircleLeft} size = \"5x\" color = \"#2C3E50\" /> </div>\n                \n                <FileUploader\n                    accept = \"image/*\"\n                    name = \"avatar\"\n                    randomizeFilename\n                    storageRef = {storage().ref(\"images\")}\n                    onUploadSuccess = {handleUploadSuccess}\n                />\n            </label>\n            <ButtonWrapper>\n                <div onClick = {() => this.prevSlide()}> <FontAwesomeIcon icon = {faChevronCircleLeft} size = \"5x\" color = \"#2C3E50\" /> </div>\n                <div onClick = {() => this.nextSlide()}> <FontAwesomeIcon icon = {faChevronCircleRight} size = \"5x\" color = \"#2C3E50\"/> </div>\n          </ButtonWrapper>\n        </ImageForm>\n    )\n}\n\nconst mapStateToProps = ({ firebase }) => ({\n    profile: firebase.profile,\n})\n\nconst mapDispatchToProps = {\n    updateImageUrl: actions.updateImageUrl,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageUpload);\n"]},"metadata":{},"sourceType":"module"}