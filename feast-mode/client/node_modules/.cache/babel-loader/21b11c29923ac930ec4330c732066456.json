{"ast":null,"code":"import * as actions from './actionTypes.js'; // SignUp action\n\nexport const signUp = data => async (dispatch, getState, {\n  getFirebase,\n  getFirestore\n}) => {\n  const firebase = getFirebase();\n  const firestore = getFirestore();\n  dispatch({\n    type: actions.AUTH_START\n  });\n\n  try {\n    const res = await firebase.auth().createUserWithEmailAndPassword(data.email, data.passwordOne); // Send verification email\n\n    const user = firebase.auth();\n    await firestore.collection('users').doc(res.user.uid).set({\n      firstName: data.firstName,\n      lastName: data.lastName,\n      email: data.email,\n      phone: data.phone,\n      creditCard: data.creditCard,\n      expDate: data.expDate,\n      secCode: data.secCode,\n      creditCardType: data.creditCardType,\n      apps: data.apps\n    });\n    dispatch({\n      type: actions.AUTH_SUCCESS\n    });\n  } catch (err) {\n    dispatch({\n      type: actions.AUTH_FAIL,\n      payload: err.message\n    });\n  }\n\n  dispatch({\n    type: actions.AUTH_END\n  });\n}; // SignOut action\n\nexport const signOut = () => async (dispatch, getState, {\n  getFirebase\n}) => {\n  const firebase = getFirebase();\n\n  try {\n    await firebase.auth().signOut();\n  } catch (err) {\n    console.log(err.message);\n  }\n}; // SignIn action\n\nexport const signIn = data => async (dispatch, getState, {\n  getFirebase\n}) => {\n  const firebase = getFirebase();\n  dispatch({\n    type: actions.AUTH_START\n  });\n\n  try {\n    await firebase.auth().signInWithEmailAndPassword(data.email, data.password);\n    dispatch({\n      type: actions.AUTH_SUCCESS\n    });\n  } catch (err) {\n    console.log(err.message);\n    dispatch({\n      type: actions.AUTH_FAIL,\n      payload: err.message\n    });\n  }\n\n  dispatch({\n    type: actions.AUTH_END\n  });\n}; // Clean up error messages action\n\nexport const clean = () => ({\n  type: actions.CLEAN_UP\n});","map":{"version":3,"sources":["/Users/cssummer19/Documents/FeastMode/feast-mode/src/backend/store/actions/authActions.js"],"names":["actions","signUp","data","dispatch","getState","getFirebase","getFirestore","firebase","firestore","type","AUTH_START","res","auth","createUserWithEmailAndPassword","email","passwordOne","user","collection","doc","uid","set","firstName","lastName","phone","creditCard","expDate","secCode","creditCardType","apps","AUTH_SUCCESS","err","AUTH_FAIL","payload","message","AUTH_END","signOut","console","log","signIn","signInWithEmailAndPassword","password","clean","CLEAN_UP"],"mappings":"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","sourcesContent":["import * as actions from './actionTypes.js'\n\n// SignUp action\nexport const signUp = data => async (dispatch, getState, { getFirebase, getFirestore }) => {\n    const firebase = getFirebase()\n    const firestore = getFirestore()\n    dispatch({ type: actions.AUTH_START })\n    try {\n        const res = await firebase\n            .auth()\n            .createUserWithEmailAndPassword(data.email, data.passwordOne)\n\n        // Send verification email\n        const user = firebase.auth()\n\n        await firestore.collection('users').doc(res.user.uid).set({ \n            firstName: data.firstName,\n            lastName: data.lastName,\n            email: data.email,\n            phone: data.phone,\n            creditCard: data.creditCard,\n            expDate: data.expDate,\n            secCode: data.secCode,\n            creditCardType: data.creditCardType,\n            apps: data.apps,\n        })\n        dispatch({ type: actions.AUTH_SUCCESS })\n    } catch(err) {\n        dispatch({ type: actions.AUTH_FAIL, payload: err.message })\n    }\n    dispatch({ type: actions.AUTH_END })\n}\n\n// SignOut action\nexport const signOut = () => async (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase()\n    try {\n        await firebase.auth().signOut()\n    } catch (err) {\n        console.log(err.message)\n    }\n}\n\n// SignIn action\nexport const signIn = data => async (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase()\n    dispatch({ type: actions.AUTH_START })\n    try {\n        await firebase.auth().signInWithEmailAndPassword(data.email, data.password)\n        dispatch({ type: actions.AUTH_SUCCESS })\n    } catch(err) {\n        console.log(err.message)\n        dispatch({ type: actions.AUTH_FAIL, payload: err.message })\n    }\n    dispatch({ type: actions.AUTH_END })\n}\n\n// Clean up error messages action\nexport const clean = () => ({\n    type: actions.CLEAN_UP,\n})"]},"metadata":{},"sourceType":"module"}