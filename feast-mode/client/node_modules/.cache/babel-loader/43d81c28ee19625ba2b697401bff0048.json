{"ast":null,"code":"'use strict';\n\nvar httpJson = require('./http-json.js');\n\nvar urls = require('./urls.json');\n\nvar Address = require('./Address.js');\n\nvar findNearbyStores = function (address, pickUpType, callback) {\n  if (typeof pickUpType == 'function') {\n    callback = pickUpType;\n    pickUpType = 'Delivery';\n  }\n\n  if (!address || !callback) {\n    if (!callback) {\n      throw 'invalid findNearbyStores request. address and callback are required at a minimum.';\n    }\n\n    if (callback) {\n      callback({\n        success: false,\n        message: 'At least a partial address (minimum accepted is zipcode) is required to find stores'\n      });\n    }\n\n    return false;\n  }\n\n  var address = new Address(address);\n  var addressLines = address.getAddressLines();\n  var url = urls.store.find.replace('${line1}', encodeURI(addressLines.line1)).replace('${line2}', encodeURI(addressLines.line2)).replace('${type}', pickUpType || 'Delivery');\n  httpJson.get(url, callback);\n};\n\nmodule.exports = {\n  findNearbyStores: findNearbyStores\n};","map":null,"metadata":{},"sourceType":"script"}