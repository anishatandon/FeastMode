{"ast":null,"code":"import _objectSpread from \"/Users/cssummer19/Documents/FeastMode/feast-mode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _taggedTemplateLiteral from \"/Users/cssummer19/Documents/FeastMode/feast-mode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/cssummer19/Documents/FeastMode/feast-mode/src/components/Auth/SignUp/Wizard.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport { Formik } from 'formik';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { SignUpSchemas } from './SignUpSchemas.js';\nimport Heading from '../../../style/UI/Heading.js';\nimport { StyledForm } from '../../../style/UI/FormWrappers.js';\nimport Button from '../../../style/UI/Buttons.js';\nimport { Message, MessageWrapper } from '../../../style/UI/Message.js';\nconst Wrapper = styled.div(_templateObject());\n\nclass Wizard extends Component {\n  constructor(_props) {\n    super(_props);\n\n    this.next = values => this.setState(state => ({\n      page: Math.min(state.page + 1, this.props.children.length - 1),\n      values\n    }));\n\n    this.previous = () => this.setState(state => ({\n      page: Math.max(state.page - 1, 0)\n    }));\n\n    this.handleSubmit = (values, bag) => {\n      const _this$props = this.props,\n            children = _this$props.children,\n            onSubmit = _this$props.onSubmit;\n      const page = this.state.page;\n      const isLastPage = page === React.Children.count(children) - 1;\n\n      if (isLastPage) {\n        return onSubmit(values, bag);\n      } else {\n        bag.setTouched({});\n        bag.setSubmitting(false);\n        this.next(values);\n        console.log(\"Next\");\n      }\n    };\n\n    this.render = () => {\n      const children = this.props.children;\n      const _this$state = this.state,\n            page = _this$state.page,\n            values = _this$state.values;\n      const activePage = React.Children.toArray(children)[page];\n      const isLastPage = page === React.Children.count(children) - 1;\n      return React.createElement(Formik, {\n        initialValues: values,\n        enableReinitialize: false,\n        validationSchema: SignUpSchemas[page],\n        onSubmit: this.handleSubmit,\n        render: props => React.createElement(React.Fragment, null, !isLastPage ? React.createElement(Heading, {\n          size: \"h1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \" Sign Up! \") : React.createElement(Heading, {\n          size: \"h1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \" What apps do you have? \"), React.createElement(StyledForm, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.cloneElement(activePage, {\n          parentState: _objectSpread({}, props)\n        }), React.createElement(Wrapper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(Button, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \" Previous \"), React.createElement(Button, {\n          disabled: !props.isValid || props.isSubmitting,\n          loading: loading ? 'Logging in...' : null,\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Log In\")), React.createElement(MessageWrapper, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(Message, {\n          error: true,\n          show: error,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, error)))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    };\n\n    this.state = {\n      page: 0,\n      values: _props.initialValues\n    };\n  }\n\n}\n\nWizard.Page = ({\n  children,\n  parentState\n}) => {\n  return children(parentState);\n};\n\nconst mapStateToProps = ({\n  auth\n}) => ({\n  loading: auth.loading,\n  error: auth.error\n});\n\nconnect(mapStateToProps)(render);\nexport default Wizard;","map":{"version":3,"sources":["/Users/cssummer19/Documents/FeastMode/feast-mode/src/components/Auth/SignUp/Wizard.js"],"names":["React","Component","Formik","connect","styled","SignUpSchemas","Heading","StyledForm","Button","Message","MessageWrapper","Wrapper","div","Wizard","constructor","props","next","values","setState","state","page","Math","min","children","length","previous","max","handleSubmit","bag","onSubmit","isLastPage","Children","count","setTouched","setSubmitting","console","log","render","activePage","toArray","cloneElement","parentState","isValid","isSubmitting","loading","error","initialValues","Page","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Formik } from 'formik'\nimport { connect } from 'react-redux'\nimport styled from 'styled-components'\n\nimport { SignUpSchemas } from './SignUpSchemas.js'\nimport Heading from '../../../style/UI/Heading.js'\nimport { StyledForm } from '../../../style/UI/FormWrappers.js'\nimport Button from '../../../style/UI/Buttons.js'\nimport { Message, MessageWrapper } from '../../../style/UI/Message.js'\n\nconst Wrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n`\n\nclass Wizard extends Component {\n  static Page = ({ children, parentState }) => {\n    return children(parentState)\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      page: 0,\n      values: props.initialValues,\n    }\n  }\n\n  next = values =>\n    this.setState(state => ({\n      page: Math.min(state.page + 1, this.props.children.length - 1),\n      values,\n  }))\n\n  previous = () =>\n    this.setState(state => ({\n      page: Math.max(state.page - 1, 0),\n  }))\n\n  handleSubmit = (values, bag) => {\n    const { children, onSubmit } = this.props\n    const { page } = this.state\n    const isLastPage = page === React.Children.count(children) - 1\n    if (isLastPage) {\n      return onSubmit(values, bag)\n    } else {\n      bag.setTouched({})\n      bag.setSubmitting(false)\n      this.next(values)\n      console.log(\"Next\")\n    }\n  }\n\n  render = () => {\n    const { children } = this.props\n    const { page, values } = this.state\n    const activePage = React.Children.toArray(children)[page]\n    const isLastPage = page === React.Children.count(children) - 1\n\n    return (\n      <Formik\n        initialValues = {values}\n        enableReinitialize = {false}\n        validationSchema = {SignUpSchemas[page]}\n        onSubmit = {this.handleSubmit}\n        render = {props => (\n          <>\n            {!isLastPage ? <Heading size = \"h1\"> Sign Up! </Heading> : <Heading size = \"h1\"> What apps do you have? </Heading>} \n            <StyledForm>\n              {React.cloneElement(activePage, { parentState: {...props} })}\n              <Wrapper>\n                            <Button> Previous </Button>\n                            <Button\n                                disabled = {!props.isValid || props.isSubmitting}\n                                loading = {loading ? 'Logging in...' : null}\n                                type = \"submit\"\n                            > \n                                Log In \n                            </Button>\n                        </Wrapper>\n\n                        <MessageWrapper>\n                            <Message error show = {error}>{ error }</Message>\n                        </MessageWrapper>\n            </StyledForm>\n          </>\n        )}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = ({ auth }) => ({\n  loading: auth.loading,\n  error: auth.error,\n})\n\nconnect(mapStateToProps)(render)\n\nexport default Wizard"]},"metadata":{},"sourceType":"module"}